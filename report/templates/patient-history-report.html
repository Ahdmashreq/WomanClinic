{% extends 'master.html'%}
{% load static %}
{% load crispy_forms_tags %}
{% load i18n %}
{% load l10n %}
{% block body %}

<div class="col-xl-12">
  <p>
    <div class="btn-group">
      <a href="{% url 'report:rep-all-patients' %}" class="btn btn-success">الرجوع</a>
    </div>
  </p>
  <!-- patiebt info -->
  <div class="card">
    <div class="card-header">{{ page_title }}</div>
    <div class="card-body">
      <div class="row show-grid">
        <div class="col-md-4">
          <strong><label>أسم المريضة : </label></strong>
          {{ required_patient.name}}
        </div>
        <div class="col-md-4">
          <strong><label>العنوان : </label></strong>
          {{ required_patient.address}}
        </div>
        <div class="col-md-4">
          <strong><label>الوظيفة : </label></strong>
          {{ required_patient.job}}
        </div>
        <div class="col-md-4">
          <strong><label>الهاتف : </label></strong>
          {{ required_patient.phone}}
        </div>
        <div class="col-md-4">
          <strong><label>الموبايل : </label></strong>
          {{ required_patient.mobile}}
        </div>
        <div class="col-md-4">
          <strong><label>تاريخ الميلاد : </label></strong>
          {{ required_patient.date_of_birth}}
        </div>
        <div class="col-md-4">
          <strong><label>رقم التأمين : </label></strong>
          {{ required_patient.insurance_number}}
        </div>
        <div class="col-md-4">
          <strong><label>رقم الدخول : </label></strong>
          {{ required_patient.entrance_number}}
        </div>
        <div class="col-md-4">
          <strong><label>رقم المستشفي الموحد : </label></strong>
          {{ required_patient.hospital_number}}
        </div>
        <div class="col-md-4">
          <strong><label>رقم المريضة : </label></strong>
          {{ required_patient.patient_number}}
        </div>
        <div class="col-md-4">
          <strong><label>الغرفة : </label></strong>
          {{ required_patient.room}}
        </div>
        <div class="col-md-4">
          <strong><label>القسم : </label></strong>
          {{ required_patient.hospital_section}}
        </div>
        <div class="col-md-4">
          <strong><label>رقم قرار الكلكسان : </label></strong>
          {{ required_patient.clexane_order_number}}
        </div>
        <div class="col-md-4">
          <strong><label>المريضة محولة من : </label></strong>
          {% if required_patient.transferred_from == 'insurance' %}
          عيادة تأمين
          {% elif required_patient.transferred_from == 'consultant' %}
          عيادة استشاري
          {% elif required_patient.transferred_from == 'outpatient' %}
          طبيب خارجي
          {% else %}
          المريض نفسه
          {% endif %}
        </div>
        <div class="col-md-4">
          <strong><label>ملاحظات : </label></strong>
          {{ required_patient.notes}}
        </div>
        <div class="col-md-4">
          <strong><label>طبيعة المريضة : </label></strong>
          {% if required_patient.patient_type == 'CHECK_UP' %}
          متابعة
          {% elif required_patient.patient_type == 'CONSULTANT' %}
          أستشاري
          {% elif required_patient.patient_type == 'OPERATION' %}
          عمليات
          {% elif required_patient.patient_type == 'DELIVER' %}
          ولادة
          {% else %}
          --
          {% endif %}
        </div>
        <div class="col-md-4">
          <strong><label>تاريخ دخول المريضة : </label></strong>
          {{ required_patient.entrance_date}}
        </div>
        <div class="col-md-4">
          <strong><label>تاريخ الخروج : </label></strong>
          {{ required_patient.exit_date}}
        </div>
      </div>
    </div>
    <!-- /.card-body -->
  </div>
  <!-- end of patient info -->

  <!-- patient patient_check_ups -->
  <div class="card">
    <div class="card-header">
      <strong>
      <p>المتابعة الدورية</p>
      </strong>
    </div>
    <div class="card-body">
      <div class="card-body">
        <div class="table-responsive table-bordered">
          <table class="table">
            <thead style="background-color: #89acbdb3;">
              <tr role="row">
                <th style="text-align:center;">#</th>
                <th style="text-align:center;">شكوي المريضة</th>
                <th style="text-align:center;">اسبوع الحمل</th>
                <th style="text-align:center;">تاريخ الزيارة</th>
                <th style="text-align:center;"></th>
              </tr>
            </thead>
            <tbody>
              {% for check in patient_check_ups %}
              <tr>
                <th scope="row">{{ forloop.counter }}</th>
                <td>{{check.complain}}</td>
                <td>{{check.week_number}}</td>
                <td>{{check.visit_date}}</td>
                <td><a href="{% url 'report:patient_check_up_report' checkup_id=check.id %}">عرض باقي بيانات المتابعة</a></td>
              </tr>
              {% endfor %}
          </table>
        </div>
      </div>
    </div>
  </div>
  <!-- end of patient_check_ups -->

  <!-- patient medicine -->
  <div class="card">
    <div class="card-header">
      <strong>
      <p>روشة الادوية</p>
      </strong>
    </div>
    <div class="card-body">
      <div class="card-body">
        <div class="table-responsive table-bordered">
          <table class="table">
            <thead style="background-color: #89acbdb3;">
              <tr role="row">
                <th style="text-align:center;">#</th>
                <th style="text-align:center;">متابعة الاسبوع</th>
                <th style="text-align:center;">الدواء</th>
                <th style="text-align:center;">تاريخ الصرف</th>
                <th style="text-align:center;">الجرعة</th>
                <th style="text-align:center;">ملاحظات</th>
              </tr>
            </thead>
            <tbody>
              {% for check in patient_medicine %}
              <tr>
                <th scope="row">{{ forloop.counter }}</th>
                <td>{{check.check_up.week_number}}</td>
                <td>{{check.medicine}}</td>
                <td>{{check.issue_date}}</td>
                <td>{{check.dose}}</td>
                <td>{{check.notes}}</td>
              </tr>
              {% endfor %}
          </table>
        </div>
      </div>
    </div>
  </div>
  <!-- end of patient medicine -->
  <!-- patient days off -->
  <div class="card">
    <div class="card-header">
      <strong>
      <p>اجازات المريضة</p>
      </strong>
    </div>
    <div class="card-body">
      <div class="card-body">
        <div class="table-responsive table-bordered">
          <table class="table table-hover">
            <thead style="background-color: #89acbdb3;">
              <tr role="row">
                <th style="text-align:center;">#</th>
                <th style="text-align:center;">تاريخ بداية الاجازة</th>
                <th style="text-align:center;">تاريخ نهاية الاجازة</th>
                <th style="text-align:center;">عدد ايام الاجازة</th>
                <th style="text-align:center;">ملاحظات</th>
              </tr>
            </thead>
            <tbody>
              {% for check in patient_days_off %}
              <tr>
                <th scope="row">{{ forloop.counter }}</th>
                <td>{{check.date_start}}</td>
                <td>{{check.date_end}}</td>
                <td>{{check.num_of_days}}</td>
                <td>{{check.notes}}</td>
              </tr>
              {% endfor %}
          </table>
        </div>
      </div>
    </div>
  </div>
  <!-- end of patient days off -->
  <!-- patient patient_us -->
  <div class="card">
    <div class="card-header">
      <strong>
      <p>Ultrasound</p>
      </strong>
    </div>
    <div class="card-body">
      <div class="card-body">
        <div class="table-responsive table-bordered">
          <table class="table table-hover">
            <thead style="background-color: #89acbdb3;">
              <tr role="row">
                <th style="text-align:center;">#</th>
                <th style="text-align:center;">نتيجة الفحص</th>
                <th style="text-align:center;">تاريخ الفحص</th>
              </tr>
            </thead>
            <tbody>
              {% for check in patient_us %}
              <tr>
                <th scope="row">{{ forloop.counter }}</th>
                <td>{{check.prognosis}}</td>
                <td>{{check.visit_date}}</td>
              </tr>
              {% endfor %}
          </table>
        </div>
      </div>
    </div>
  </div>
  <!-- end of patient_us -->
  <!-- patient patient_surgery -->
  <div class="card">
    <div class="card-header">
      <strong>
      <p>عمليات النسا</p>
      </strong>
    </div>
    <div class="card-body">
      <div class="card-body">
        <div class="table-responsive table-bordered">
          <table class="table table-hover">
            <thead style="background-color: #89acbdb3;">
              <tr role="row">
                <th style="text-align:center;">#</th>
                <th style="text-align:center;">العملية</th>
                <th style="text-align:center;">الجراح</th>
                <th style="text-align:center;">تاريخ اجراء العملية</th>
                <th style="text-align:center;">تاريخ الخروج</th>
                <th style="text-align:center;">تطور الحالة</th>
                <th style="text-align:center;">التشخيص النهائي</th>
                <th style="text-align:center;">توصيات</th>
              </tr>
            </thead>
            <tbody>
              {% for check in patient_surgery %}
              <tr>
                <th scope="row">{{ forloop.counter }}</th>
                <td>{{check.surgery_name}}</td>
                <td>{{check.surgery_doctor}}</td>
                <td>{{check.surgery_date}}</td>
                <td>{{check.exit_date}}</td>
                <td>{{check.case_progress}}</td>
                <td>{{check.final_diagnosis}}</td>
                <td>{{check.recomendations}}</td>
              </tr>
              {% endfor %}
          </table>
        </div>
      </div>
    </div>
  </div>
  <!-- end of patient_surgery -->
  <!-- patient patient_diabete -->
  <div class="card">
    <div class="card-header">
      <strong>
      <p>متابعة دورية</p>
      </strong>
    </div>
    <div class="card-body">
      <div class="card-body">
        <div class="table-responsive table-bordered">
          <table class="table table-hover">
            <thead style="background-color: #89acbdb3;">
              <tr role="row">
                <th style="text-align:center;">#</th>
                <th style="text-align:center;">سكر الدم</th>
                <th style="text-align:center;">ضغط الدم</th>
                <th style="text-align:center;">درجة الحرارة</th>
                <th style="text-align:center;">تاريخ القراءة</th>
              </tr>
            </thead>
            <tbody>
              {% for check in patient_diabete %}
              <tr>
                <th scope="row">{{ forloop.counter }}</th>
                <td>{{check.bs}}</td>
                <td>{{check.bp}}</td>
                <td>{{check.temp}}</td>
                <td>{{check.reading_date}}</td>
              </tr>
              {% endfor %}
          </table>
        </div>
      </div>
    </div>
  </div>
  <!-- end of patient_diabete -->
  <!-- /.panel -->
</div>

{% endblock body %}
