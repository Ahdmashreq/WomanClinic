{% extends 'master.html'%}
{% load static %}
{% load crispy_forms_tags %}
{% load i18n %}
{% load l10n %}
{% block body %}

<form id="my_form" method="POST" enctype="multipart/form-data">
  {% csrf_token %}
  {% include 'messages.html' %}

  <section class="panel panel-default">
    <div class="panel-body">
      <header class="font-bold pull-left">{{ page_title }}</header>
      <div class="doc-buttons pull-right">
        <button type="submit" class="btn btn-s-md btn-success">حفظ</button>
        <a href="{% url 'patient:all-patients' %}" class="btn btn-s-md btn-default">{% trans "الغاء" %}</a>
      </div>
    </div>
  </section>
  <section class="panel panel-default">
    <div class="panel-body">
      <div class="form-row">
        <div class="col-sm-6 pull-right">
          {{ patient_form.name|as_crispy_field}}
        </div>
        <div class="col-sm-6 pull-right">
          {{ patient_form.address|as_crispy_field}}
        </div>
        <div class="col-sm-6 pull-right">
          {{ patient_form.job|as_crispy_field}}
        </div>
        <div class="col-sm-6 pull-right">
          {{ patient_form.phone|as_crispy_field}}
        </div>
        <div class="col-sm-6 pull-right">
          {{ patient_form.mobile|as_crispy_field}}
        </div>
        <div class="col-sm-6 pull-right">
          {{ patient_form.date_of_birth|as_crispy_field}}
        </div>

        <div class="col-sm-3 pull-right">
          {{ patient_form.insurance_number|as_crispy_field}}
        </div>
        <div class="col-sm-3 pull-right">
          {{ patient_form.entrance_number|as_crispy_field}}
        </div>
        <div class="col-sm-3 pull-right">
          {{ patient_form.hospital_number|as_crispy_field}}
        </div>
        <div class="col-sm-3 pull-right">
          {{ patient_form.patient_number|as_crispy_field}}
        </div>
        <div class="col-sm-4 pull-right">
          {{ patient_form.room|as_crispy_field}}
        </div>
        <div class="col-sm-4 pull-right">
          {{ patient_form.hospital_section|as_crispy_field}}
        </div>
        <div class="col-sm-4 pull-right">
          {{ patient_form.clexane_order_number|as_crispy_field}}
        </div>
        <div class="col-sm-4 pull-right">
          {{ patient_form.consultant_flag|as_crispy_field}}
        </div>
        <div class="col-sm-4 pull-right">
          {{ patient_form.transferred_from|as_crispy_field}}
        </div>
        <div class="col-sm-4 pull-right">
          {{ patient_form.notes|as_crispy_field}}
        </div>
        <div class="col-sm-4 pull-right">
          {{ patient_form.entrance_date|as_crispy_field}}
        </div>
        <div class="col-sm-4 pull-right">
          {{ patient_form.exit_date|as_crispy_field}}
        </div>
        <div class="col-sm-4 pull-right">
          {{ patient_form.patient_type|as_crispy_field}}
        </div>
      </div>
      <section class="panel panel-default">
        <table class="table table-bordered dataTable" id="dataTable" role="grid" aria-describedby="dataTable_info" style="width: 100%;" width="100%" cellspacing="0">
          {{ patient_attachments.management_form }}
          {% for form in patient_attachments %}
          {{ form.id }}
          {% if forloop.first %}
          <thead style="background-color: #9d9858b3;">
            <tr>
              {% for field in form.visible_fields %}
              <th>{{ field.label|capfirst }}</th>
              {% endfor %}
            </tr>
          </thead>
          {% endif %}
          <tr>
            {% for field in form.visible_fields %}
            <td>
              {# exclude the hidden fields in the form #}
              {% if forloop.first %}
              {% for hidden in form.hidden_fields %}
              {{ hidden }}
              {% endfor %}
              {% endif %}
              {{ field.errors.as_ul }}
              {{ field|as_crispy_field }}
            </td>
            {% endfor %}
          </tr>
          {% endfor %}
        </table>
      </section>
    </div>
  </section>
</form>


{% endblock body %}
