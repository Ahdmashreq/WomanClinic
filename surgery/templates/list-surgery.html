{% extends 'master.html'%}
{% load static %}
{% load i18n %}
{% load l10n %}
{% block body %}

<div class="col-xl-12">
  <p>
    <a href="{% url 'surgery:create-surgery' %}" class="btn btn-success">{% trans "تسجيل عملية جديدة" %}</a>
  </p>
  <div class="card">
    <div class="card-header"><strong>{{ page_title }}</strong>
    </div>
    <!-- /.card-header -->
    <div class="card-body">
            <a href="{% url 'surgery:create-surgery' %}" class="btn btn-success">Create a New Surgery</a>
      <div class="table-responsive">

        <table id="consultant_list_tbl" class="table table-striped table-bordered table-hover">
          <thead>
            <tr role="row">
              <th tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1"></th>
              <th tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1">نوع العملية</th>
              <th tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1"></th>
              <th tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1"></th>
            </tr>
          </thead>

          <tbody>
            {% for surgery in all_surgery %}
            <tr>
              <th scope="row">{{ forloop.counter }}</th>
              <!-- <td scope="row">&nbsp &nbsp<a href="{% url 'surgery:view-surgery' surgery.id %}" data-toggle="modal" data-target="#view-modal{{surgery.id}}">{{surgery.surgery_name}}</a></td> -->
              <td><a href="{% url 'surgery:view-surgery' surgery.id %}">{{surgery.surgery_name}}</a></td>
              <!--dina-->
              <td><a href="{% url 'surgery:update-surgery' surgery.id %}">{% trans "تعديل" %}</a></td>
              <!--td><a href="{% url 'surgery:delete-surgery' surgery.id %}">{% trans "حذف" %}</a></td-->
              <td scope="row">&nbsp &nbsp<a href="#" class="btn btn-danger" data-toggle="modal" data-target="#delete-modal{{surgery.id}}">{% trans "حذف" %}</a></td>

              <!-- div class="modal fade in" id="view-modal{{surgery.id}}" tabindex="-1" role="dialog" aria-labelledby="view-modal" aria-hidden="true">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">×</button>
                      <div class="modal-dialog">
                        <div class="modal-content">
                          <div class="modal-body">
                            {{surgery.surgery_name}}
                            {{surgery.as_table}}
                            </div>
                            <!-- /.table-responsive -->
                            <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                          </div>
                        </div>
                        <!-- /.modal-content -->
                      <!-- </div>
                      <!-- /.modal-dialog -->
                    <!--</div> -->
                  <!-- </div> -->

              <!--dina-->
              <div class="modal fade in" id="delete-modal{{surgery.id}}" tabindex="-1" role="dialog" aria-labelledby="delete-modal" aria-hidden="true">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">×</button>
                      <div class="modal-dialog">
                        <div class="modal-content">
                          <div class="modal-body">
                            <p>You are about to delete a record {{surgery.surgery_name}}. Do you want to continue?</p>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                            <a href="{% url 'surgery:delete-surgery' surgery.id %}" class="btn btn-danger" type="button">Yes</a>
                          </div>
                        </div>
                        <!-- /.modal-content -->
                      </div>
                      <!-- /.modal-dialog -->
                    </div>
                  </div>
            </tr>
            {% endfor %}
        </table>
      </div>
      <!-- /.table-responsive -->
    </div>
    <!-- /.card-body -->
  </div>
</div>
{% endblock body %}
